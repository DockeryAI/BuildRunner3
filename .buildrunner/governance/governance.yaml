project:
  name: BuildRunner3
  version: 3.0.0
  governance_version: '1.0'
  description: Git-backed governance system for AI-assisted project development
workflow:
  rules:
    allowed_states:
    - planned
    - in_progress
    - testing
    - complete
    - blocked
    transitions:
      planned:
      - in_progress
      - blocked
      in_progress:
      - testing
      - blocked
      - planned
      testing:
      - complete
      - in_progress
      - blocked
      blocked:
      - planned
      - in_progress
      complete: []
    branch_patterns:
      feature: build/week{week_number}-{feature_name}
      hotfix: hotfix/{feature_id}-{description}
      integration: integration/week{week_number}
    commit_rules:
      require_semantic_versioning: true
      allowed_types:
      - feat
      - fix
      - refactor
      - test
      - docs
      - chore
      - style
      require_feature_id: false
dependencies:
  git-governance: []
  python-cli:
  - feature-registry
  - git-governance
  fastapi-backend:
  - feature-registry
  - git-governance
  git-hooks-mcp:
  - git-governance
  - python-cli
  - fastapi-backend
  migration-tools: []
  multi-repo-dashboard:
  - python-cli
  optional-integrations:
  - fastapi-backend
  documentation:
  - feature-registry
  - git-governance
  - python-cli
  - fastapi-backend
  - git-hooks-mcp
  packaging:
  - documentation
  release:
  - feature-registry
  - git-governance
  - python-cli
  - fastapi-backend
  - git-hooks-mcp
  - optional-integrations
  - migration-tools
  - multi-repo-dashboard
  - documentation
  - packaging
validation:
  required_checks:
  - tests_pass
  - coverage_threshold
  - lint_pass
  - no_merge_conflicts
  coverage_threshold: 90
  pre_commit:
  - validate_features_json
  - check_governance_checksum
  - run_lint
  - check_no_debug_statements
  pre_push:
  - run_tests
  - check_coverage
  - validate_governance_rules
  pre_merge:
  - all_tests_pass
  - coverage_above_threshold
  - no_unresolved_comments
  - approved_by_reviewer
enforcement:
  policy: strict
  on_violation:
    pre_commit: block
    pre_push: block
    dependency: block
    coverage: warn
  exceptions:
    allow_emergency_commits: false
    allow_skip_checks: false
  mandatory_testing:
    enabled: true
    description: 'ALL code changes MUST be automatically tested before commit/push.

      This policy was added after issues where code was committed without testing.

      '
    pre_commit_requirements:
    - Hooks MUST be installed using install-hooks.sh
    - Tests run automatically on every commit
    - Commits blocked if tests fail
    - --no-verify bypass is PROHIBITED
    pre_push_requirements:
    - Full test suite runs automatically before push
    - Coverage thresholds must be met
    - All services must be running (if required)
    - Push blocked if any test fails
    hook_installation:
      location: .buildrunner/hooks/
      install_command: bash .buildrunner/hooks/install-hooks.sh
      applies_to: ALL BR3 projects (new and existing)
    debugging_workflow:
    - Code changes trigger automatic tests (pre-commit)
    - If tests fail, commit is blocked
    - Developer must fix issues before proceeding
    - Comprehensive tests run before push (pre-push)
    - Push blocked until all tests pass
hooks:
  enabled: true
  active_hooks:
  - pre-commit
  - post-commit
  - pre-push
  pre_commit:
    validate_schema: true
    check_checksums: true
    run_linting: true
    format_code: true
  post_commit:
    regenerate_status: true
    update_metrics: true
  pre_push:
    run_tests: true
    check_coverage: true
    validate_dependencies: true
reporting:
  track_violations: true
  violation_log: .buildrunner/governance/violations.log
  metrics:
  - features_completed
  - tests_run
  - coverage_percentage
  - violations_count
  - build_time
security:
  require_checksum: true
  authorized_editors:
  - project_owner
  - tech_lead
  alert_on_governance_change: true
quality:
  enabled: true
  thresholds:
    overall: 50
    structure: 60
    testing: 80
    documentation: 50
    security: 90
    performance: 60
  enforcement:
    block_commit: true
    block_push: true
    note: 'Threshold temporarily lowered to 50 while incrementally improving. Target:
      70+'
